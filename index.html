<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>圣诞电子贺卡</title>
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>
    <div class="container">
        <h1>圣诞电子贺卡</h1>
        <p>请输入您的密码以查看贺卡：</p>
        <input type="text" id="password" placeholder="输入姓名解锁专属贺卡">
        <button onclick="unlockCard()">解锁贺卡</button>

        <!-- 预先定义一个显示图片的区域 -->
        <div id="imageContainer" class="hidden">
            <h2>您的圣诞贺卡</h2>
            <!-- 图片将在这里显示 -->
            <img id="cardImage" src="" alt="圣诞贺卡图片" style="max-width: 100%; height: auto;">
            <!-- 添加下载按钮 -->
            <button id="downloadButton" class="hidden" onclick="downloadImage()">下载贺卡</button>
        </div>
    </div>

    <script>
        // 密码与图片的映射关系
        const passwords = {
            "王宝英": "wangbaoying.jpg",
            "王冉": "wangran.jpg",
            "吴玥": "wuyue.jpg",
            "李若然": "liruojuan.jpg",
            "肖桐": "xiaotong.jpg",
            "王雨欣": "wangyuxin.jpg",
            "江秋荣": "jiangqiurong.jpg",
            "余懿凡": "yuyifan.jpg",
            "王新惠": "wangxinhui.jpg",
            "刘怿宇": "liuyiuyu.jpg",
            "郑建月": "zhengjianyue.jpg"
        };

        // 解锁贺卡函数
        function unlockCard() {
            const passwordInput = document.getElementById('password').value.trim();  // 获取输入的密码
            const imageContainer = document.getElementById('imageContainer');   // 获取图片展示区域
            const cardImage = document.getElementById('cardImage'); // 获取图片元素
            const downloadButton = document.getElementById('downloadButton'); // 获取下载按钮

            // 验证密码
            if (passwords[passwordInput]) {
                // 密码正确，显示图片展示区域
                imageContainer.classList.remove('hidden');
                // 设置图片路径
                const imagePath = `images/${passwords[passwordInput]}`;
                cardImage.src = imagePath;

                // 显示下载按钮
                downloadButton.classList.remove('hidden');
            } else {
                // 密码错误提示
                alert("密码错误，请重新输入！");
            }
        }

        // 下载图片函数
        function downloadImage() {
            const cardImage = document.getElementById('cardImage');
            const imageUrl = cardImage.src;

            // 创建一个临时的链接来下载图片
            const link = document.createElement('a');
            link.href = imageUrl;
            link.download = imageUrl.substring(imageUrl.lastIndexOf('/') + 1); // 提取文件名
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>
</body>
</html>
